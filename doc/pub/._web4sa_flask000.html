<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Doconce: http://code.google.com/p/doconce/" />

<link rel="stylesheet" href="https://raw.githubusercontent.com/hplgit/doconce/master/bundled/html_styles/style_vagrant/css/twitter_bootstrap.css">
<link rel="stylesheet" href="https://raw.githubusercontent.com/hplgit/doconce/master/bundled/html_styles/style_vagrant/css/vagrant.css">
<!-- Define color of headings here (last definition counts) -->
<style type="text/css">
h1, h2, h3, h4, h5, h6 {
  color: #000;     /* black */
  color: #999;     /* gray */
  color: #005580;  /* dark blue */
  color: #08c;     /* characteristic blue */
</style>
</head>
<body>

<title>Using Flask for Scientific Web Applications</title>

<div class="container">
 <div class="row Header with-border">
  <div class="span3 Module logo">
   <h1><a href="/">Flask<span class="subtitle">4scientists</span></a></h1>
  </div>
  <div class="span9">
   <div class="Module navigation">
    <ul>
     <li> <a href="http://flask.pocoo.org/">Flask</a></li>
    </ul>
   </div>
  </div>
 </div>
</div>

<div class="row">
 <div class="span3 Module sidebar">
  <div class="well" style="padding: 8px 0px;">
   <ul class="nav nav-list">
          <!-- navigation toc: "Web frameworks" --> <li><a href=#___sec0" style="font-size: 80%;"><b>Web frameworks</b></a></li>
     <!-- navigation toc: "The MVC pattern" --> <li><a href="._web4sa_flask001.html#___sec1" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;The MVC pattern</a></li>
     <!-- navigation toc: "A very simple application" --> <li><a href="._web4sa_flask002.html#___sec2" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;A very simple application</a></li>
     <!-- navigation toc: "Application of the MVC pattern" --> <li><a href="._web4sa_flask003.html#wf:hw:mvc" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Application of the MVC pattern</a></li>
     <!-- navigation toc: "Making a Flask application" --> <li><a href="._web4sa_flask004.html#___sec4" style="font-size: 80%;"><b>Making a Flask application</b></a></li>
     <!-- navigation toc: "Programming the Flask application" --> <li><a href="._web4sa_flask004.html#___sec5" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Programming the Flask application</a></li>
     <!-- navigation toc: "Equipping the input page with output results" --> <li><a href="._web4sa_flask004.html#___sec6" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Equipping the input page with output results</a></li>
     <!-- navigation toc: "Splitting the app into model, view, and controller files" --> <li><a href="._web4sa_flask004.html#wf:hw3:flask" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Splitting the app into model, view, and controller files</a></li>
     <!-- navigation toc: "Troubleshooting" --> <li><a href="._web4sa_flask005.html#___sec8" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Troubleshooting</a></li>
     <!-- navigation toc: "Handling multiple input variables in Flask" --> <li><a href="._web4sa_flask006.html#wf:vib:flask" style="font-size: 80%;"><b>Handling multiple input variables in Flask</b></a></li>
     <!-- navigation toc: "Programming the Flask application" --> <li><a href="._web4sa_flask006.html#wf:vib1:flask:app" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Programming the Flask application</a></li>
     <!-- navigation toc: "Implementing error checking in the template" --> <li><a href="._web4sa_flask007.html#___sec11" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Implementing error checking in the template</a></li>
     <!-- navigation toc: "Using style sheets" --> <li><a href="._web4sa_flask008.html#___sec12" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Using style sheets</a></li>
     <!-- navigation toc: "Using LaTeX mathematics" --> <li><a href="._web4sa_flask008.html#___sec13" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Using LaTeX mathematics</a></li>
     <!-- navigation toc: "Rearringing the elements in the HTML template" --> <li><a href="._web4sa_flask008.html#___sec14" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Rearringing the elements in the HTML template</a></li>
     <!-- navigation toc: "Custom validation" --> <li><a href="._web4sa_flask009.html#wf:vib1:flask:validation" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Custom validation</a></li>
     <!-- navigation toc: "Autogenerating the code" --> <li><a href="._web4sa_flask010.html#wf:vib3:flask:autogen" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Autogenerating the code</a></li>
     <!-- navigation toc: "Avoiding plot files" --> <li><a href="._web4sa_flask011.html#wf:vib3:flask:nofiles" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Avoiding plot files</a></li>
     <!-- navigation toc: "User login and storage of computed results" --> <li><a href="._web4sa_flask012.html#wf:vib1:flask:login" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;User login and storage of computed results</a></li>
     <!-- navigation toc: "Using Bootstrap styles" --> <li><a href="._web4sa_flask013.html#wf:vib1:flask:bootstrap" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Using Bootstrap styles</a></li>
     <!-- navigation toc: "Further work" --> <li><a href="._web4sa_flask014.html#___sec22" style="font-size: 80%;"><b>Further work</b></a></li>
     <!-- navigation toc: "Exercises" --> <li><a href="._web4sa_flask015.html#___sec23" style="font-size: 80%;"><b>Exercises</b></a></li>
     <!-- navigation toc: "Exercise 1: Add two numbers" --> <li><a href="._web4sa_flask015.html#wf:exer:add2" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Exercise 1: Add two numbers</a></li>
     <!-- navigation toc: "Exercise 2: Extend the <code>vib3_flask</code> app" --> <li><a href="._web4sa_flask015.html#wf:exer:vib3:demo" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Exercise 2: Extend the <code>vib3_flask</code> app</a></li>
     <!-- navigation toc: "Exercise 3: Equip the <code>vib3_flask</code> app with more data types" --> <li><a href="._web4sa_flask015.html#wf:exer:vib3:lists" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Exercise 3: Equip the <code>vib3_flask</code> app with more data types</a></li>
     <!-- navigation toc: "Exercise 4: Auto-generate code from function signature" --> <li><a href="._web4sa_flask015.html#___sec27" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Exercise 4: Auto-generate code from function signature</a></li>
     <!-- navigation toc: "Flask resources" --> <li><a href="._web4sa_flask015.html#___sec28" style="font-size: 80%;"><b>Flask resources</b></a></li>
     <!-- navigation toc: "Remaining" --> <li><a href="._web4sa_flask015.html#___sec29" style="font-size: 80%;"><b>Remaining</b></a></li>

    </ul>
   </div>
  </div>

  <div class="span9">


<!-- tocinfo
{'highest level': 1,
 'sections': [(' Web frameworks ', 1, None, '___sec0'),
              (' The MVC pattern ', 2, None, '___sec1'),
              (' A very simple application ', 2, None, '___sec2'),
              (' Application of the MVC pattern ',
               2,
               'wf:hw:mvc',
               'wf:hw:mvc'),
              (' Making a Flask application ', 1, None, '___sec4'),
              (' Programming the Flask application ', 2, None, '___sec5'),
              (' Equipping the input page with output results ',
               2,
               None,
               '___sec6'),
              (' Splitting the app into model, view, and controller files ',
               2,
               'wf:hw3:flask',
               'wf:hw3:flask'),
              (' Troubleshooting ', 2, None, '___sec8'),
              (' Handling multiple input variables in Flask ',
               1,
               'wf:vib:flask',
               'wf:vib:flask'),
              (' Programming the Flask application ',
               2,
               'wf:vib1:flask:app',
               'wf:vib1:flask:app'),
              (' Implementing error checking in the template ',
               2,
               None,
               '___sec11'),
              (' Using style sheets ', 2, None, '___sec12'),
              (' Using LaTeX mathematics ', 2, None, '___sec13'),
              (' Rearringing the elements in the HTML template ',
               2,
               None,
               '___sec14'),
              (' Custom validation ',
               2,
               'wf:vib1:flask:validation',
               'wf:vib1:flask:validation'),
              (' Autogenerating the code ',
               2,
               'wf:vib3:flask:autogen',
               'wf:vib3:flask:autogen'),
              (' Avoiding plot files ',
               2,
               'wf:vib3:flask:nofiles',
               'wf:vib3:flask:nofiles'),
              (' PNG plots ', 3, None, '___sec18'),
              (' SVG plots ', 3, None, '___sec19'),
              (' User login and storage of computed results ',
               2,
               'wf:vib1:flask:login',
               'wf:vib1:flask:login'),
              (' Using Bootstrap styles ',
               2,
               'wf:vib1:flask:bootstrap',
               'wf:vib1:flask:bootstrap'),
              (' Further work ', 1, None, '___sec22'),
              (' Exercises ', 1, None, '___sec23'),
              (' Exercise 1: Add two numbers ',
               2,
               'wf:exer:add2',
               'wf:exer:add2'),
              (' Exercise 2: Extend the `vib3_flask` app ',
               2,
               'wf:exer:vib3:demo',
               'wf:exer:vib3:demo'),
              (' Exercise 3: Equip the `vib3_flask` app with more data types ',
               2,
               'wf:exer:vib3:lists',
               'wf:exer:vib3:lists'),
              (' Exercise 4: Auto-generate code from function signature ',
               2,
               None,
               '___sec27'),
              (' Flask resources ', 1, None, '___sec28'),
              (' Remaining ', 1, None, '___sec29')]}
end of tocinfo -->





<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: {
     equationNumbers: {  autoNumber: "none"  },
     extensions: ["AMSmath.js", "AMSsymbols.js", "autobold.js"]
  }
});
</script>
<script type="text/javascript"
 src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>



<a name="part0000"></a>
<!-- ------------------- main content ---------------------- -->

<!-- Use vagrant template only and therefore comment out TITLE -->

<h1>Using Flask for Scientific Web Applications</h1>

<h2>Table of contents</h2>

<a href="#___sec0"> Web frameworks </a><br>
&nbsp; &nbsp; &nbsp; <a href="._web4sa_flask001.html#___sec1"> The MVC pattern </a><br>
&nbsp; &nbsp; &nbsp; <a href="._web4sa_flask002.html#___sec2"> A very simple application </a><br>
&nbsp; &nbsp; &nbsp; <a href="._web4sa_flask003.html#wf:hw:mvc"> Application of the MVC pattern </a><br>
<a href="._web4sa_flask004.html#___sec4"> Making a Flask application </a><br>
&nbsp; &nbsp; &nbsp; <a href="._web4sa_flask004.html#___sec5"> Programming the Flask application </a><br>
&nbsp; &nbsp; &nbsp; <a href="._web4sa_flask004.html#___sec6"> Equipping the input page with output results </a><br>
&nbsp; &nbsp; &nbsp; <a href="._web4sa_flask004.html#wf:hw3:flask"> Splitting the app into model, view, and controller files </a><br>
&nbsp; &nbsp; &nbsp; <a href="._web4sa_flask005.html#___sec8"> Troubleshooting </a><br>
<a href="._web4sa_flask006.html#wf:vib:flask"> Handling multiple input variables in Flask </a><br>
&nbsp; &nbsp; &nbsp; <a href="._web4sa_flask006.html#wf:vib1:flask:app"> Programming the Flask application </a><br>
&nbsp; &nbsp; &nbsp; <a href="._web4sa_flask007.html#___sec11"> Implementing error checking in the template </a><br>
&nbsp; &nbsp; &nbsp; <a href="._web4sa_flask008.html#___sec12"> Using style sheets </a><br>
&nbsp; &nbsp; &nbsp; <a href="._web4sa_flask008.html#___sec13"> Using LaTeX mathematics </a><br>
&nbsp; &nbsp; &nbsp; <a href="._web4sa_flask008.html#___sec14"> Rearringing the elements in the HTML template </a><br>
&nbsp; &nbsp; &nbsp; <a href="._web4sa_flask009.html#wf:vib1:flask:validation"> Custom validation </a><br>
&nbsp; &nbsp; &nbsp; <a href="._web4sa_flask010.html#wf:vib3:flask:autogen"> Autogenerating the code </a><br>
&nbsp; &nbsp; &nbsp; <a href="._web4sa_flask011.html#wf:vib3:flask:nofiles"> Avoiding plot files </a><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="._web4sa_flask011.html#___sec18"> PNG plots </a><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="._web4sa_flask011.html#___sec19"> SVG plots </a><br>
&nbsp; &nbsp; &nbsp; <a href="._web4sa_flask012.html#wf:vib1:flask:login"> User login and storage of computed results </a><br>
&nbsp; &nbsp; &nbsp; <a href="._web4sa_flask013.html#wf:vib1:flask:bootstrap"> Using Bootstrap styles </a><br>
<a href="._web4sa_flask014.html#___sec22"> Further work </a><br>
<a href="._web4sa_flask015.html#___sec23"> Exercises </a><br>
&nbsp; &nbsp; &nbsp; <a href="._web4sa_flask015.html#wf:exer:add2"> Exercise 1: Add two numbers </a><br>
&nbsp; &nbsp; &nbsp; <a href="._web4sa_flask015.html#wf:exer:vib3:demo"> Exercise 2: Extend the <code>vib3_flask</code> app </a><br>
&nbsp; &nbsp; &nbsp; <a href="._web4sa_flask015.html#wf:exer:vib3:lists"> Exercise 3: Equip the <code>vib3_flask</code> app with more data types </a><br>
&nbsp; &nbsp; &nbsp; <a href="._web4sa_flask015.html#___sec27"> Exercise 4: Auto-generate code from function signature </a><br>
<a href="._web4sa_flask015.html#___sec28"> Flask resources </a><br>
<a href="._web4sa_flask015.html#___sec29"> Remaining </a><br>
</p>

<h1 id="___sec0">Web frameworks <a name="___sec0"></a></h1>

Computational scientists may want to offer their applications through
a web interface, thereby making a <em>web application</em>.
Basically, this means that users can set input data
to the application on a web page, then click on some <em>Compute</em> button,
and back comes a new web page with the results of the computations.
The web interface can either be used as a GUI locally on the
scientist's computer, or the interface can be depolyed to
a server and made available to the whole world.

<p>
Web applications of the mentioned type can be created from scratch
using CGI scripts in (e.g.) Python, but the code quickly gets longer
and more involved as the complexity of the web interface
grows. Nowadays, most web applications are created with the aid of
<em>web frameworks</em>, which are software packages that simplify the
programming tasks of offering services through the Internet. The
downside of web frameworks is that there is a significant amount of
steps and details to learn before your first simple demo application
works.  The upside is that advanced applications are within reach,
without an overwhelming amount of programming, as soon as you have
understood the basic demos.

<p>
We shall in the forthcoming text explore the very easy-to-use <a href="http://flask.pocoo.org/" target="_self">Flask framework</a>.  At the time of this writing, the primary Flask
documentation is the <a href="http://flask.pocoo.org/" target="_self">official web site</a> and the <a href="http://wtforms.simplecodes.com/docs/0.6/index.html" target="_self">WTForms Documentation</a>. That is why we have made specific examples for the application of Flask in computational science.

<p>
The problem for a computational scientist who wants to enable
mathematical calculations through the web is that most of
the introductory examples on utilizing a particular
web framework address web applications
of very different nature, e.g., blogs and polls. Therefore, we have made an
alternative introduction which explains, in the simplest possible way,
how web frameworks can be used to

<ol>
<li> generate a web page with input data to your application,</li>
<li> run the application to perform mathematical computations, and</li>
<li> generate a web page with the results of the computations.</li>
</ol>

Flask is very easy to work with and extensive Python knowledge is
not necessary. It is in fact enough to know about functions and
modules. Beyond that, some knowledge of classes might be an advantage.

<p>
All the files associated with this document are available in a
<a href="https://github.com/hplgit/web4sciapps/" target="_self">GitHub repository</a>.
The relevant files for the web applications are located
in a subtree <a href="https://github.com/hplgit/web4sciapps/tree/master/doc/src/web4sa/src-web4sa/apps/" target="_self"><tt>doc/src/web4sa/src-web4sa/apps</tt></a>
of this repository.

<p>
<p>
<!-- navigation buttons at the bottom of the page -->
<ul class="pager">
  <li class="next">
    <a href="._web4sa_flask001.html">Next &rarr;</a>
  </li>
</ul>
<!-- ------------------- end of main content --------------- -->


 </div>

 <div class="row Footer">
  <div class="span12">
  &copy 2013; Hans Petter Langtangen and Anders E. Johansen.
  Last update: .
  </div>
 </div>
</div>
</body>
</html>

