<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Doconce: http://code.google.com/p/doconce/" />

<link rel="stylesheet" href="https://raw.githubusercontent.com/hplgit/doconce/master/bundled/html_styles/style_vagrant/css/twitter_bootstrap.css">
<link rel="stylesheet" href="https://raw.githubusercontent.com/hplgit/doconce/master/bundled/html_styles/style_vagrant/css/vagrant.css">
<!-- Define color of headings here (last definition counts) -->
<style type="text/css">
h1, h2, h3, h4, h5, h6 {
  color: #000;     /* black */
  color: #999;     /* gray */
  color: #005580;  /* dark blue */
  color: #08c;     /* characteristic blue */
</style>
</head>
<body>

<title>Using Flask for Scientific Web Applications</title>

<div class="container">
 <div class="row Header with-border">
  <div class="span3 Module logo">
   <h1><a href="/">Flask<span class="subtitle">4scientists</span></a></h1>
  </div>
  <div class="span9">
   <div class="Module navigation">
    <ul>
     <li> <a href="http://flask.pocoo.org/">Flask</a></li>
    </ul>
   </div>
  </div>
 </div>
</div>

<div class="row">
 <div class="span3 Module sidebar">
  <div class="well" style="padding: 8px 0px;">
   <ul class="nav nav-list">
          <!-- navigation toc: --> <li><a href="._web4sa_flask000.html#___sec0" style="font-size: 80%;">Web frameworks</a></li>
     <!-- navigation toc: --> <li><a href="._web4sa_flask004.html#___sec4" style="font-size: 80%;">Making a Flask application</a></li>
     <!-- navigation toc: --> <li><a href="._web4sa_flask006.html#wf:vib:flask" style="font-size: 80%;">Handling multiple input variables in Flask</a></li>
     <!-- navigation toc: --> <li><a href="._web4sa_flask014.html#___sec22" style="font-size: 80%;">Further work</a></li>
     <!-- navigation toc: --> <li><a href="#___sec24" style="font-size: 80%;">Exercises</a></li>
     <!-- navigation toc: --> <li><a href="#___sec29" style="font-size: 80%;">Flask resources</a></li>
     <!-- navigation toc: --> <li><a href="#___sec30" style="font-size: 80%;">Remaining</a></li>

    </ul>
   </div>
  </div>

  <div class="span9">


<!-- tocinfo
{'highest level': 1,
 'sections': [(' Web frameworks ', 1, None, '___sec0'),
              (' The MVC pattern ', 2, None, '___sec1'),
              (' A very simple application ', 2, None, '___sec2'),
              (' Application of the MVC pattern ',
               2,
               'wf:hw:mvc',
               'wf:hw:mvc'),
              (' Making a Flask application ', 1, None, '___sec4'),
              (' Programming the Flask application ', 2, None, '___sec5'),
              (' Equipping the input page with output results ',
               2,
               None,
               '___sec6'),
              (' Splitting the app into model, view, and controller files ',
               2,
               'wf:hw3:flask',
               'wf:hw3:flask'),
              (' Troubleshooting ', 2, None, '___sec8'),
              (' Handling multiple input variables in Flask ',
               1,
               'wf:vib:flask',
               'wf:vib:flask'),
              (' Programming the Flask application ',
               2,
               'wf:vib1:flask:app',
               'wf:vib1:flask:app'),
              (' Implementing error checking in the template ',
               2,
               None,
               '___sec11'),
              (' Using style sheets ', 2, None, '___sec12'),
              (' Using LaTeX mathematics ', 2, None, '___sec13'),
              (' Rearringing the elements in the HTML template ',
               2,
               None,
               '___sec14'),
              (' Custom validation ',
               2,
               'wf:vib1:flask:validation',
               'wf:vib1:flask:validation'),
              (' Autogenerating the code ',
               2,
               'wf:vib3:flask:autogen',
               'wf:vib3:flask:autogen'),
              (' Avoiding plot files ',
               2,
               'wf:vib3:flask:nofiles',
               'wf:vib3:flask:nofiles'),
              (' PNG plots ', 3, None, '___sec18'),
              (' SVG plots ', 3, None, '___sec19'),
              (' User login and storage of computed results ',
               2,
               'wf:vib1:flask:login',
               'wf:vib1:flask:login'),
              (' Using Bootstrap styles ',
               2,
               'wf:vib1:flask:bootstrap',
               'wf:vib1:flask:bootstrap'),
              (' Further work ', 1, None, '___sec22'),
              (' Resources ', 3, None, '___sec23'),
              (' Exercises ', 1, None, '___sec24'),
              (' Exercise 1: Add two numbers ',
               2,
               'wf:exer:add2',
               'wf:exer:add2'),
              (' Exercise 2: Extend the `vib3_flask` app ',
               2,
               'wf:exer:vib3:demo',
               'wf:exer:vib3:demo'),
              (' Exercise 3: Equip the `vib3_flask` app with more data types ',
               2,
               'wf:exer:vib3:lists',
               'wf:exer:vib3:lists'),
              (' Exercise 4: Auto-generate code from function signature ',
               2,
               None,
               '___sec28'),
              (' Flask resources ', 1, None, '___sec29'),
              (' Remaining ', 1, None, '___sec30')]}
end of tocinfo -->





<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: {
     equationNumbers: {  autoNumber: "none"  },
     extensions: ["AMSmath.js", "AMSsymbols.js", "autobold.js", "color.js"]
  }
});
</script>
<script type="text/javascript"
 src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>



<a name="part0015"></a>
<!-- !split -->

<h1 id="___sec24">Exercises <a name="___sec24"></a></h1>

<!-- --- begin exercise --- -->

<h2 id="wf:exer:add2">Exercise 1: Add two numbers<a name="wf:exer:add2"></a></h2>

Make a web application that reads two numbers from a web page,
adds the numbers, and prints the sum in a new web page.
Package the necessary files that constitute the application
in a tar file.
Filename: <code>add2.tar.gz</code>.

<p>
<!-- --- end exercise --- -->

<p>
<!-- --- begin exercise --- -->

<h2 id="wf:exer:vib3:demo">Exercise 2: Extend the <code>vib3_flask</code> app<a name="wf:exer:vib3:demo"></a></h2>

Add a new argument <code>x_axis</code> to the <code>compute</code> function in the
<a href="https://github.com/hplgit/web4sciapps/tree/master/doc/src/web4sa/vib_flask3" target="_self"><tt>vib_flask3</tt></a> application from the section <a href="._web4sa_flask010.html#wf:vib3:flask:autogen">Autogenerating the code</a>. The <code>x_axis</code> argument measures the extent
of the \( x \) axis in the plots in terms of the number of standard
deviations (default may be 7).  Observe how the web interface
automatically adds the new argument and how the plots adapt!

<p>
<!-- --- end exercise --- -->

<p>
<!-- --- begin exercise --- -->

<h2 id="wf:exer:vib3:lists">Exercise 3: Equip the <code>vib3_flask</code> app with more data types<a name="wf:exer:vib3:lists"></a></h2>

In the <a href="https://github.com/hplgit/web4sciapps/tree/master/doc/src/web4sa/vib_flask3" target="_self"><tt>vib_flask3</tt></a>
application from the section <a href="._web4sa_flask010.html#wf:vib3:flask:autogen">Autogenerating the code</a>,
use the <code>label</code> argument in the form field objects to add an
information of the type of data that is to be supplied in the
text field. Extend the <code>model.py</code> file to also handle
lists, tuples, and Numerical Python arrays. For these three
new data types, use a <code>TextField</code> object and run <code>eval</code>
on the text in the <code>view.py</code> file.
A simple test is to extend the <code>compute</code> function with an
argument <code>x_range</code> for the range of the \( x \) axis, specified as
an interval (2-list or 2-tuple).
Filename: <code>vib3_ext.tar.gz</code>.

<p>
<!-- --- end exercise --- -->

<p>
<!-- --- begin exercise --- -->

<h2 id="___sec28">Exercise 4: Auto-generate code from function signature <a name="___sec28"></a></h2>

Given a <code>compute</code> with a set of positional and keyword
arguments, the purpose of this exercise is to <em>automatically</em> generate the
Flask files <code>model.py</code> and <code>view.py</code>. Use the Python <code>inspect</code>
module, see the section <a href="._web4sa_flask010.html#wf:vib3:flask:autogen">Autogenerating the code</a>, to extract
the positional and keyword arguments in <code>compute</code>, and use this
information to construct the relevant Python code. Assume as
in the section <a href="._web4sa_flask010.html#wf:vib3:flask:autogen">Autogenerating the code</a> that the user provides
a file <code>view_results.html</code> for defining how the returned object
from the <code>compute</code> function is to be rendered.

<p>
Test the code generator on the <code>compute</code> function in the <code>vib1_flask</code>
application to check that the generated
<code>model.py</code> and <code>view.py</code> files are correct.
Filename: <code>generate_flask.py</code>.

<p>
<!-- --- end exercise --- -->

<h1 id="___sec29">Flask resources <a name="___sec29"></a></h1>

<ul>
 <li> <a href="http://flask.pocoo.org/" target="_self">Flask website</a></li>
 <li> <a href="http://blog.miguelgrinberg.com/post/the-flask-mega-tutorial-part-i-hello-world" target="_self">The Flask Mega-Tutorial</a> by Miguel Grinberg</li>
 <li> <a href="http://wtforms.simplecodes.com/docs/0.6/index.html" target="_self">WTForms Documentation</a></li>
 <li> <a href="http://jinja.pocoo.org/docs/" target="_self">The Jinja2 templating language</a></li>
 <li> <a href="http://werkzeug.pocoo.org/" target="_self">The Werkzeug library</a></li>
</ul>

<h1 id="___sec30">Remaining <a name="___sec30"></a></h1>

<ul>
 <li> apply (generated apps) to simviz (make py simviz too and describe that)</li>
 <li> store data in database</li>
 <li> discuss list values read as text and use of eval, perhaps exercise</li>
 <li> avoid Flask or Django in exercises, just do not specify and have
   common exercises at the very end</li>
 <li> app: username, TextAreaField, store in database and retrieve for admin</li>
</ul>


<p>
<!-- navigation buttons at the bottom of the page -->
<ul class="pager">
  <li class="previous">
    <a href="._web4sa_flask014.html">&larr; Prev</a>
  </li>
</ul>
<!-- ------------------- end of main content --------------- -->


 </div>

 <div class="row Footer">
  <div class="span12">
  &copy 2013; Hans Petter Langtangen and Anders E. Johansen.
  Last update: .
  </div>
 </div>
</div>
</body>
</html>

